# Capstone Project - AI Trading Platform

### What is the project ?

To build a platform for creating, backtesting and paper trading new automated strategies on real-time, minute scale data with the help of AI models.

# Components in the project

## Data Feeder

* Used to source real-time minute scale data from over 5000 stocks in the stock market.

* Perform very fast, basic calculations on the raw data.

## Database

* We use a database to store the data from the data feeder.

* We also use it to perform more complex calculations (such as indicators) very quickly at a large scale for all stocks whose data has been sent from the data feeder.

## Strategies
###### This is the heart of the project

* Strategies read data from the database and can use multiple indicators, machine learning models, or a combination to generate orders according to the rules mentioned in the strategy.

* There may be multiple strategies created and deployed in this service.

## Backtester

* This service helps in building Strategies. It allows us test how a strategy would have performed over past data over previous weeks, months and years.

* It takes a parameterised strategy and data over the period of the back test as input. It generates orders over the previous data according to the strategy's rules and outputs a detailed report on the performance of the strategy.

## Paper Trader

* This is used to test strategies in real-time market scenarios after a strategy has performed well in back testing.

* It tracks and evaluates orders generated by multiple strategies in real-time market conditions and provides various performance metrics for both strategies and orders.

## UI

* This service is a website which provides a GUI for the user to interact with all the other services.

* It allows the user flexibility to create, back test, paper trade and deploy new strategies on real-time data from the stock market.


# To replicate this project on your computer

1. run these commands to initialize the project:
```
git clone "git@github.com:Varun487/CapstoneProject_AITradingPlatform.git"

cd CapstoneProject_AITradingPlatform

docker-compose -f docker-compose.prod.yml rm

docker-compose -f docker-compose.prod.yml up --build
```
2. To start the production server and run all containers:
```
docker-compose -f docker-compose.prod.yml up
```
3. To stop all running containers in production:
```
docker-compose -f docker-compose.prod.yml down
```
4. Run in production with fresh build:
```
docker-compose -f docker-compose.dev.yml rm
docker-compose -f docker-compose.dev.yml up --build
```
5. To start the development server and run all containers:
```
docker-compose -f docker-compose.prod.yml up
```
6. To stop all running containers in development:
```
docker-compose -f docker-compose.prod.yml down
```
7. Run in development with fresh build:
```
docker-compose -f docker-compose.dev.yml rm
docker-compose -f docker-compose.dev.yml up --build
```
8. To create a super user for the database
```
docker-compose -f docker-compose.prod.yml run rest_api python AITradingPlatform/manage.py createsuperuser
```

# Project members
###### All members are from Semester 6 Pes University EC Campus
1. Varun Seshu - PES2201800074
2. Hritik Shanbhag - PES2201800082
3. Disha Venkatesh - PES2201800109
4. Samrudhi R Rao - PES2201800126

# Future prospects

This project can be pursued in the future to build a fully integrated trading system with a broker to place orders generated by the strategies in the live market and generate consistent profits.

# TODO
__PROJECT PHASE 1__ *-> COMPLETE BEFORE ESA BEGINS*
1. Final presentation ![DOCINCOMPLETE]
2. FILL WEEKLY PROGRESS PAGE ![DOCINCOMPLETE]
    - Physical printout ??
3. 2 Research papers per person ![DOCINCOMPLETE]
    - __CERTIFIED__ from ma'am

__PROJECT PHASE 2__ *-> COMPLETE BY JULY END*

__TOMORROW'S WORK - 9/5/2021__
* BREAK DOWN UI AND INTEGRATON TESTING
* DISTRIBUTE WORK
* BREAKDOWN TODOS IN README

1. CONFIG WORK ![VARUNCOMPLETE]
    - Build all docker containers and run it locally ![DONE]
        - REST API  ![DONE]
        - DB  ![DONE]
        - Server ![DONE]
            - Setup Nginx server ![DONE]
            - Make it serve Django files ![DONE]
    - Separate development and production environments ![DONE]
2. DATAFEEDER WORK ![COMPONENTINCOMPLETE]
    - DB ![SAMRUDHICOMPLETE]
        - Company ![DONE]
        - Time stamp ![DONE]
        - Immutable Data ![DONE]
        - Calculated Candle stick Data ![DONE]
        - Indicators ![DONE]
    - REST API endpoints ![FEATUREINCOMPLETE] 
      - Company ![DISHAINCOMPLETE]
        - List all companies in DB ![DONE] 
        - Get a particular company's details 
		- Filter company according name, sector, ticker 
        - Add a company 
        - Delete a company 
      - Time Stamp ![SAMRUDHIINCOMPLETE]
        - All time stamps in DB
        - Add a time stamp
        - Delete a time stamp
      - Immutable data and Calculated data![HRITIKINCOMPLETE]
	  	- Filter according to open, high, low, close, volume, company, time period values
	  - Indicators ![VARUNINCOMPLETE]
	    - Filter according to company, time period values
	  - Sourcing data ![VARUNINCOMPLETE]
	  	- Ondemand data api call -> List of companies, time period, provider
		- Add a company to real time list
		- Remove a comapny from real time list
	  - Derived candle stick data ![SAMRUDHIINCOMPLETE]
	    - Filter according to open, high, low, close, volume, company, time period, aggregation time periods list values
    - Sourcing functions ![VARUNINCOMPLETE]
        - On demand (functions)
          - Parameters
            - Company `List`
            - data collection window `Start Datetime and End Datetime`
            - Provider - AlphaVantage / Yahoo Finance
			- Candle stick time period
          - Calculate indicators
          - Push to DB
        - Real time
          - Call on demand function in an infinite loop
    - Indicators calc functions ![DISHAINCOMPLETE]
        - Parameters
          - Company
          - time periods `Start data and end date`
		  - Push to DB
        - SMA 
        - Std Dev 
	- Indicators `derived` calc functions ![HRITIKINCOMPLETE]
	    - Parameters
          - Company
          - time periods `Start data and end date`
		  - aggregation time period `List`
        - SMA 
        - Std Dev 
    - Different `derived` candle stick time periods ![SAMRUDHIINCOMPLETE]
		- Parameters
          - Company
          - time periods `Start data and end date`
		  - aggregation time period `List`
	- Add all REST APIs to API docs page ![VARUNINCOMPLETE]
	- Automated testing ![VARUNINCOMPLETE]
3. STRATEGIES WORK ![COMPONENTINCOMPLETE]
	- DB ![DISHAINCOMPLETE]
		- Strategy
			- Name
			- Description
			- Companies/Sector
		- Orders
			- Order type `BUY/SELL`
			- Company
			- TimeStamp
			- Order category `Market/Limit`
			- Take profit `Can be Blank`
			- Stop loss
			- Strategy name
			- Order Owner
			- Profit/Loss `Blank in the beginning`
	- Strategies ![VARUNINCOMPLETE]
		- Simple Bollinger bands strategy
			- Data
				- Close price
				- SMA
				- 2 sigma above and below SMA
			- Rules
				- If stock price > 2 sigma above SMA `SHORT`
				- If stock price crosses SMA `GET OUT OF ALL POSITIONS`
				- If stock price < 2 sigma above SMA `BUY`
	- REST API END POINTS ![FEATUREINCOMPLETE]
		- View all strategies ![SAMRUDHIINCOMPLETE]
		- View all orders ![HRITIKINCOMPLETE]
		- Filter orders according to Profit / Loss, Strategy name, TimeStamp, Order owner, Order type, Company, Order Category, Stop loss, Take profit ![SAMRUDHIINCOMPLETE]
	- Automated testing ![VARUNINCOMPLETE]
4. BACKTESTER WORK ![COMPONENTINCOMPLETE]
	- DB ![HRITIKINCOMPLETE]
		- BackTestReport
			- Initial account size
			- Max Risk %
			- Final account size
			- Start date time
			- End date time
			- Total Profit / Loss
			- Order ids `List`
	- Back testing `Only for historical data` 
		- Get Req data from DB ![VARUNINCOMPLETE]
			- Source data if not present
			- Calc Indicators if not present
		- Call the strategy function with data ![SAMRUDHIINCOMPLETE]
		- Evaluate orders `according to future` ![DISHAINCOMPLETE]
			- Order owner
			- Profit / Loss
			- Push orders to DB
		- Generate report ![SAMRUDHIINCOMPLETE]
			- Eval Total Profit / Loss, final account size according to all orders performance, Initial account, Start date, etc.
			- Push report to DB
		- REST API ![DISHAINCOMPLETE]
			- View all reports
			- Filter reports according to strategy, risk %, Account size, etc.
	- Automated testing ![VARUNINCOMPLETE]
5. PAPER TRADER ![COMPONENTINCOMPLETE]
	- Tracks live orders `Runs every min` ![SAMRUDHIINCOMPLETE] ![DISHAINCOMPLETE]
		- Get all paper trader orders
		- Evaluate loss / profit of order according to latest company data `Update in DB`
		- After order is completed, change owner `Update in DB`
	- Genrating orders `Runs every min` ![VARUNINCOMPLETE]
		- Get latest data of all companies
		- Run all strategies on all relevant data `Returns orders`
		- Set Profit / Loss and owner fileds of orders
		- Push orders to DB
	- REST APIs ![HRITIKINCOMPLETE]
		- Get all current paper traded orders
		- Filter orders according to all relevant criteria
6. UI WORK ![COMPONENTINCOMPLETE]
	- Login `Django Auth`
	- Top banner - just with name -> Menu button
	- Strategies Tab is selected on default `Home page`
	- Side navbar 
		- Tabs
			- Strategies
			- Back tests
			- Paper trades
	- Strategies Tab
		- All strategies and descriptions listed
			- Click on a strategy
				- List all back tests made in strategy 
				- List all orders currently paper traded 
				- Visualization of orders paper traded on strategy `Update each min`
	- Back tests Tab
	- Paper trades Tab
7. Test the simple BB strategy `Integration testing` ![FEATUREINCOMPLETE]
	- Run multiple back tests
	- Test all paper trades
	- Run for different companies in different sectors

### VERSION 1.0 LAUNCH!

---

8. Run Django in a Production environment on the VM ![FEATUREINCOMPLETE]
    - Buy a domain ![DONE]
    - SSL certification
    - Host the REST API
    - Decide deployment workflow
    - Make a deployment script
9. Build a simple LSTM predictions test strategy ![FEATUREINCOMPLETE] 
10. Build Strategies ![FEATUREINCOMPLETE] 
    - 4 Strategies which perform better than sectoral market indices
11. Write papers, see if you can publish them ![DOCINCOMPLETE]

[DONE]: https://img.shields.io/badge/DONE-brightgreen
[INCOMPLETE]: https://img.shields.io/badge/INCOMPLETE-red

[VARUNINCOMPLETE]: https://img.shields.io/badge/VARUN-INCOMPLETE-red
[VARUNCOMPLETE]: https://img.shields.io/badge/VARUN-COMPLETE-brightgreen

[DISHAINCOMPLETE]: https://img.shields.io/badge/DISHA-INCOMPLETE-red
[DISHACOMPLETE]: https://img.shields.io/badge/DISHA-COMPLETE-brightgreen

[SAMRUDHIINCOMPLETE]: https://img.shields.io/badge/SAMRUDHI-INCOMPLETE-red
[SAMRUDHICOMPLETE]: https://img.shields.io/badge/SAMRUDHI-COMPLETE-brightgreen

[HRITIKINCOMPLETE]: https://img.shields.io/badge/HRITIK-INCOMPLETE-red
[HRITIKCOMPLETE]: https://img.shields.io/badge/HRITIK-COMPLETE-brightgreen

[BUG]: https://img.shields.io/badge/BUG-red
[BUGFIXED]: https://img.shields.io/badge/BUG-FIXED-brightgreen

[FEATUREINCOMPLETE]: https://img.shields.io/badge/FEATURE-INCOMPLETE-red
[FEATURECOMPLETE]: https://img.shields.io/badge/FEATURE-COMPLETE-brightgreen

[COMPONENTINCOMPLETE]: https://img.shields.io/badge/COMPONENT-INCOMPLETE-red
[COMPONENTCOMPLETE]: https://img.shields.io/badge/COMPONENT-COMPLETE-brightgreen

[MEETINGINCOMPLETE]: https://img.shields.io/badge/MEETING-INCOMPLETE-red

[DOCINCOMPLETE]: https://img.shields.io/badge/DOC-INCOMPLETE-red
[DOCCOMPLETE]: https://img.shields.io/badge/DOC-COMPLETE-brightgreen
